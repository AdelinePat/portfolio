import{t as L}from"./topbar-controller-CcCdzLz2.js";function p(t){console.log(t);const e=document.createElement("div");e.classList.add("modal");const n=document.createElement("div");n.classList.add("modal-header");const s=document.createElement("figure");s.classList.add("modal-figure"),E(s,t);const a=document.createElement("div");a.classList.add("modal-title");const c=document.createElement("i");n.append(s),f(a,t),n.append(a),c.classList.add("btn-close",...L.closed.icon),n.append(c),e.append(n);const o=document.createElement("h3");console.log(t.createdAt);const i=new Date(t.createdAt).toLocaleDateString("fr-FR",{month:"long",year:"numeric"});return o.innerText=i,a.append(o),b(e,t),(t.code||t.demo)&&u(e,t),(t.link||t.successCertificate)&&(console.log("coucou allo?"),u(e,t,!1)),g(e,t,!0),e}function E(t,e){t.style.backgroundImage=`url(${e.img})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center"}function b(t,e){const n=document.createElement("div");n.classList.add("modal-content"),n.innerHTML=e.content,t.append(n)}const h=document.querySelector("body");let d,r;function k(t){y();const e=p(t);r=e,d.append(e),h.append(d),document.body.classList.add("modal-open"),d.addEventListener("click",n=>{const s=r.querySelector(".btn-close");(!r.contains(n.target)||n.target===s)&&(d.remove(),document.body.classList.remove("modal-open"))})}function y(){d=document.createElement("div"),d.classList.add("layer")}function T(t,e,n=!0){t.innerHTML="";let s;n?s=e.length+" "+(e.length>1?"projets":"projet"):s=e.length+" "+(e.length>1?"certifications":"certification");const a=document.createTextNode(s),c=document.createElement("span");c.classList.add("btn-primary-lighter");const o=document.createElement("i"),i=document.createTextNode("Filtrer");o.classList.add("ml-1"),c.append(i,o),o.classList.add("fa-solid","fa-filter"),t.append(a,c)}function H(t,e,n=!1){n||(t.innerHTML="");for(const s of e){const a=v(s);t.append(a)}}function v(t){const e=document.createElement("article");return e.classList.add("card"),e.dataset.id=t.createdAt,A(e,t.filter),f(e,t),C(e,t),(t.code||t.demo)&&u(e,t),g(e,t),e}function A(t,e){for(let n=0;n<e.length;++n)e[n]!="Général"&&t.classList.add(e[n])}function f(t,e){const n=document.createElement("h2");n.classList.add("title-primary"),n.innerText=e.title,t.append(n)}function C(t,e){const n=document.createElement("figure"),s=document.createElement("img");s.setAttribute("src",e.img),s.setAttribute("alt",e.altImg),s.setAttribute("loading","lazy"),e.successCertificate&&(s.classList.add("zi-10"),n.classList.add("mb-3"));const a=document.createElement("i");return a.classList.add("fa-solid","fa-plus","caption"),a.addEventListener("click",()=>{k(e)}),n.append(s,a),t.append(n),n}function u(t,e,n=!0){const s=document.createElement("div");if(s.classList.add("links"),n){if(e.code){const a=l(e.code,"Code Source");s.append(a)}if(e.demo){const a=l(e.demo,"Live Demo");s.append(a)}}else{if(e.link){const a=l(e.link,"Formation");s.append(a)}if(e.successCertificate){const a=l(e.successCertificate,"Certificat de réussite");s.append(a)}}t.append(s)}function l(t,e){const n=document.createElement("a");return n.innerText=e,e==="Code Source"||e==="Formation"?n.classList.add("btn-secondary","o-08"):n.classList.add("btn-primary","o-08"),n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener"),n}function g(t,e,n=!1){const s=document.createElement("div");s.classList.add("skills-secondary-lighter","o-08");for(const a of e.tags){const c=x(a);s.append(c)}n&&s.classList.add("tags","mt-3"),n||s.classList.add("oh"),t.append(s)}function x(t){const e=document.createElement("strong");return e.innerHTML=`${t.icon} ${t.name}`,e.setAttribute("aria-hidden",!0),e}function q(t,e){t.addEventListener("click",n=>{t.querySelector("span").contains(n.target)&&e.classList.toggle("hidden")})}function F(t,e,n,s,a,c){n.addEventListener("click",o=>{const i=o.target.closest("span");if(i&&n.contains(i)){o.stopPropagation(),D(s,i.classList[0]),i.classList.contains("active")?i.classList.remove("active"):s.length>0&&i.classList.add("active");const m=S(a,s);T(t,m,!!a.at(0).code),c(m)}})}function D(t,e){if(console.log("value du tag ? ",e),e==="all"){const s=document.querySelector(".filter-list"),a=s.querySelectorAll("span");for(const c of a)c.classList.remove("active");console.log("el",s),t.splice(0,t.length),console.log("apres spice ",t);return}const n=t.indexOf(e);console.log("index ",n),n>-1?t.splice(n,1):t.push(e)}function S(t,e){return!e||e.length===0?t:t.filter(s=>s.filter.some(a=>e.includes(a)))}function P(t){if(!t||t.length===0)return[];const e=t.filter(a=>a.display===!0);if(e.length===0)return[];const n=t.at(0).createdAt?"createdAt":"startDate";return[...e].sort((a,c)=>{const o=new Date(a[n]).getTime();return new Date(c[n]).getTime()-o})}export{H as c,F as i,P as s,q as t,T as u};
